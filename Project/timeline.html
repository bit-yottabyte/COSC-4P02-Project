<!doctype html>
<html lang="en">
  <head>
		<link href="CSS/style.css" rel="stylesheet" />
    <!-- <link href="CSS/magicscroll.css" rel="stylesheet" /> -->
		<script src="JS/jscript.js"></script>
    <!-- <script src="JS/magicscroll.js"></script> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="JS/coverflow.js"></script>

    <title>Interactive Timeline</title>
		<link rel="icon" type="image/x-icon" href="Images/museum.png">

    <script>
      document.addEventListener("DOMContentLoaded", function() {		
        getArtifacts();
      });
      
      var getArtifacts = function() {
        var allData = "";

        //get data from database using $.ajax post request from jquery
        var data = $.ajax({
					url: 'http://localhost:3000/queryAllArtifacts',
					type: "POST",
					contentType: "application/json; charset=utf-8",
          async: false,
					success: function(data) {
            //on success render the returned data
            console.log(data);

            //loop each json object and render it in HTML
            for(var i = 0; i < data.length; i++) {
              //var artifactContainer = document.createElement("a");
              //artifactContainer.href = data[i].artifact_id;
              
              var image = document.createElement("img");
              image.setAttribute("src", "images/" + data[i].image_source);
              image.setAttribute("style", "height: 300px; width: 300px;");
              image.setAttribute("alt", data[i].name);
              image.setAttribute("data-info", data[i].name);
              
              //assemble the current artifact container
              //artifactContainer.appendChild(image);
              
              document.getElementById("allArtifacts").appendChild(image);
            }
					},
					error: function(xhr, status, error) {
						//on failure to fetch the request write to console
						console.error(status + ': ' + xhr.responseText);
					}
				});
      }
    </script>

    <style>
      #allArtifacts {
        margin-left: 20%;
      }
    </style>
	</head>
  <body>

    <div class="overlay">
        <h1 class="maintitle">Interactive Timeline System</h1>
    </div>
    
    <div id="allArtifacts" class="coverflow" data-size="300" data-spacing="50" data-shadow="false" data-flat="false" data-bgcolor="" data-width="1000">
    </div>

    <!-- Icons -->
    <div class="iconstyle">
      <a style="text-decoration: none" href="#" class="fa fa-instagram"></a>
      <a style="text-decoration: none" href="#" class="fa fa-facebook"></a>
      <a style="text-decoration: none" href="#" class="fa fa-telegram"></a>
      <a style="text-decoration: none" href="#" class="fa fa-twitter"></a>
    </div>
  </body>
</html>