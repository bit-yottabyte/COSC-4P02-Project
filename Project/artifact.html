<!DOCTYPE html>
<html>
	<head>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
			integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
			crossorigin="anonymous"
		/>
		<script src="JS/jscript.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<link href="CSS/style.css" rel="stylesheet" />
	</head>
	<style>
		.Art-Title {
			color: white;
			font-size: 60px;
		}

		.artifact-title {
			margin-top: 2ch;
		}

		.navbar-custom {
			background-color: #725d3f;
		}

		.description-box {
			margin-top: 5ch;
		}

		.related-topics {
			margin-bottom: 2ch;
			/* padding-left: 12%; */
		}

		#description {
			background-color: white;
			opacity: 70%;
			margin-bottom: 2ch;
			/* margin-left: 2ch; */
		}

		#description, #date {
			text-align: center;
			background-color: white;
			margin-bottom: 2ch;
			


			opacity: 70%;
		}

		#artifactImage {
			width: auto;
			height: 250px;
		}
	</style>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			queryArtifactID();
		});

		var queryArtifactID = function () {
			const urlParams = new URLSearchParams(window.location.search);
			//get data from database using $.ajax post request from jquery
			var data = $.ajax({
				url: "http://localhost:3000/queryArtifactByID?id=" + urlParams.get("id"),
				type: "POST",
				contentType: "application/json; charset=utf-8",
				success: function (data) {
					//on success render the returned data
					console.log(data);

					var description = document.getElementById("descriptionText");
					description.innerHTML = data[0].description;

					var artifactName = document.getElementById("artifactName");
					artifactName.innerHTML = data[0].name;

					var date = document.getElementById("dateText").innerHTML = data[0].date;

					var image = document.getElementById("artifactImage");
					image.src = data[0].image_source;
				},
				error: function (xhr, status, error) {
					//on failure to fetch the request write to console
					console.error(status + ": " + xhr.responseText);
				},
			});
		};
	</script>

	<body>
		<div class="overlay">
			<h1 class="maintitle">Artifact Information</h1>
		</div>

		<div class="container-fluid">
			<div class="row">
				<div class="col-md-auto mx-auto mt-2">
					<img
						src="https://via.placeholder.com/250x250"
						class="img-fluid"
						alt="Artifact Image"
						id="artifactImage"
					/>
				</div>
			</div>
		</div>

		<div class="row">
			<div class=" text-center col-12">
				<h2 id="artifactName">No name loaded.</h2>
			</div>
		</div>

		<div class="container-fluid description-box">
			<div class="row w-75 mx-auto">
				<div class="col-sm-8" id="description">
					<p id="descriptionText">No content loaded.</p>
				</div>
				<div class="col-sm-4" id="date">
					<p id="dateText">No content loaded.</p>
				</div>
			</div>
		</div>

		<div class="container-fluid related-topics">
			<div class="row w-75 mx-auto">
				<div class="col" id="description">
					<p id="related">related topics</p>
				</div>

				<div class="col-md-auto" id="description-1">
					<p>find artifacts</p>
				</div>
			</div>
		</div>
	</body>
</html>